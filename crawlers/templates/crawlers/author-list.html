{% extends "crawlers/base.html" %}

{% block title %}Crawled Authors{% endblock %}
{% block headbanner %}
<section id="id-head" class="centered">
	<div class="head__banner small crawler">
		<div class="head__subtitle">Crawled Authors</div>
	</div>				
</section>
{% endblock %}
{% block tabs %}
<div class="pT-8 pB-8">
	<div class="_layout">
		<div class="md-tabs">
			<div class="md-tabs__tab-bar">
			{% for tab in query_tabs %}
				<a href="{{ tab.url }}" class="md-tabs__tab {{ tab.css }}" title="{{ tab.help_text }}">{{ tab.name }}</a>
			{% endfor %}
			</div>
		</div>				
	</div>	
</div>
{% endblock %}
{% block breadcrumbs %}
<div class="pT-8 pB-8">
	<div class="_layout">					
		<div class="breadcrumbs wFull">
			<a href="{% url 'crawlers:dashboard' %}">Crawled data</a>
			<span> / </span>
			<a href="{% url 'crawlers:author-list' %}">author</a>
			<span> / </span>			 	
		</div>					
	</div>	
</div>
{% endblock %}
{% block main %}

	<section id="id-section-main" class="p-8">
		<div class="mdl-poetry__post mdl-grid">
			<div class="mdl-card bC-none mdl-cell mdl-cell--12-col">
{% if authors %} {% comment %} Display the list {% endcomment %}			
				<div class="mdl-card__supporting-text stats-text">		            
					<span>{{ authors.paginator.count }} results for </span>
					<strong>{{result_title}}</strong>
				</div>
				{% if authors.paginator.num_pages > 1 %}
				<div class="mdl-card__supporting-text pTB-0 mdl-color-text--grey-600">		            
					{% include "common/include/pagination.html" with obj_list=authors getvars=getvars only %}
				</div>
				{% endif %}				
				<div class="table--large mdl-color-text--grey-800 mT-16">
					<table class="mdl-data-table mdl-js-data-table wSn">
						<thead>
							<tr>
						    	<th>ID</th>
						    	<th class="non-numeric">Name</th>
						    	<th class="non-numeric">Birth</th>
						    	<th class="non-numeric">Death</th>
						    	<th class="non-numeric">Source</th>
						    	<th>Added at</th>
						    	<th class="non-numeric" title="Whether the author has been updated in main db?">Valid</th>						    	
						    </tr>
						</thead>						
						<tbody>
							{% for author in authors %}
							<tr>
								<td>{{ forloop.counter }}</td>
								<td class="non-numeric">
									<a href="{{author.get_absolute_url}}" title="View author">{{ author.get_name }}</a>
								</td>
								<td class="non-numeric">{{ author.get_birth_date }}</td>
								<td class="non-numeric">{{ author.get_death_date }}</td>
								<td class="non-numeric">
									<a href="{{ author.get_source_url }}" title="Visit source" target="_blank">{{ author.get_source_name }}</a>
								</td>
								<td title="{{author.added_at}}">{{ author.added_at | date }}</td>
								<td class="non-numeric" title="{{author.get_validity}}">
								{% if author.get_validity %}<i class="material-icons" role="presentation">done</i>
								{% else %}False
								{% endif %}
								</td>
							</tr>
							{% endfor %}
						</tbody>
					</table>
				</div>
				{% if authors.paginator.num_pages > 1 %}
				<div class="mdl-card__supporting-text pTB-0 mdl-color-text--grey-600">		            
					{% include "common/include/pagination.html" with obj_list=authors getvars=getvars only %}
				</div>
				{% endif %}
{% else %}  {% comment %} Display the notification {% endcomment %}
				<div class="">
					<div class="search-stats">        
						Sorry! No result for
					</div>
					<div class="search-title">
						<h3>{{result_title}}</h3>
					</div>
					<div class="search-stats oops-message">	            
					</div>
				</div>
{% endif %}						
			</div>					
		</div>	
	</section>

{% endblock %}
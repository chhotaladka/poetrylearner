{% extends "crawlers/base.html" %}

{% block title %}
	Dashboard of raw articles
{% endblock %}

{% block main %}

    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript">
      google.load("visualization", "1", {packages:["corechart"]});
      google.setOnLoadCallback(drawChart);
      function drawChart() {
        var data = google.visualization.arrayToDataTable([
          ['Task', 'Hours per Day'],
          ['Work',     11],
          ['Eat',      2],
          ['Commute',  2],
          ['Watch TV', 2],
          ['Sleep',    7]
        ]);

        var options = {
          title: 'My Daily Activities',
          pieHole: 0.4,
        };

        var chart = new google.visualization.PieChart(document.getElementById('donutchart'));
        chart.draw(data, options);
      }
    </script>

	<section id="msgPannel" class="pT-8 pB-8">
		<div class="mdl-poetry__post mdl-grid">
		
			<div class="mdl-card poetry-card mdl-cell mdl-cell--4-col mdl-cell--top">

				<div class="article-info mdl-card__supporting-text stats-text mT-16">
						<span><a href="article/">Articles</a> statistics</span>
						<span>Total <b>{{article.total}}</b></span>
						<span>Valid <b>{{article.valid}}</b></span>
						<span>Have snippet <b>{{article.withsnippet}}</b></span>
				</div>

			</div>	
			<div class="mdl-card poetry-card mdl-cell mdl-cell--8-col">

				<div class="article-info mdl-card__supporting-text stats-text mT-16">
						<span><a href="author/">Authors</a> statistics</span>
						<span>Total <b>{{author.total}}</b></span>
						<span>Birth date not available <b>{{author.nobirth}}</b></span>
						<span>Death date not available <b>{{author.nodeath}}</b></span>
						<span>Both dates not available <b>{{author.nodate}}</b></span>
				</div>			
				<div id="donutchart" style="width: 900px; height: 500px;"></div>	

			</div>							
		</div>	
	</section>

{% endblock %}
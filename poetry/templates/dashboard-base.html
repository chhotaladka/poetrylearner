{% load staticfiles %}
{% load common_tags %}
<!DOCTYPE html>
<html lang="en-US">
	<head>
	    <meta charset="utf-8">
	    <meta http-equiv="X-UA-Compatible" content="IE=edge">
	    <meta name="viewport" content="width=device-width, initial-scale=1">
	    {% comment %} The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags {% endcomment %}
	    
		{% block meta %}{% comment %} Write down all meta here {% endcomment %}{% endblock %}
		
	    <title>{% block title %} Home {% endblock title %} - siteName.org </title>
	    
	    <!-- Bootstrap CSS -->
	    <link rel="stylesheet" href="{% static "mdl/material.min.css" %}">
	    <link rel="stylesheet" href="{% static "mdl/style.css" %}">
	    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

	    {% block extra-style %}{% comment %} Include here extra css style {% endcomment %}{% endblock %} 
	
		<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    	<script type="text/javascript" src="{% static 'js/jquery-2.1.4.min.js' %}"></script>
    	<script type="text/javascript" src="{% static 'mdl/material.min.js' %}"></script>
   
	</head>  
 	<body class="mdl-poetry mdl-color--grey-100 mdl-color-text--grey-700 mdl-base">
	{% block body %}
	
	<div class="mdl-layout mdl-js-layout dashboard-layout
	            mdl-layout--fixed-header">  
	  {% block header %}{% comment %} header of a section/app. Modify in the base template of the app {% endcomment %}
	  <header class="mdl-layout__header page-header">
	    <div class="mdl-layout__header-row page-header--row">
	      <span class="mdl-layout-title">{% block page-title %}Page Title{% endblock %}</span>{% comment %} Define at each page to set its title {% endcomment %}
	      <div class="mdl-layout-spacer"></div>
	      {% block search %}{% comment %} Modify the search block as per the current page {% endcomment %} 
		  <div id="id-search-box" class="site-search-row"> 	    	  
		    <form id="id-search-form" class="site-search hidden" onsubmit="if (document.getElementById('id-search-term').value == '') return false;" 
		    	action="{% block search-form-action %}{% endblock %}" method="get">
			  <button class="search-btn" id="search-btn" type="submit" tabindex="2" dir="ltr" 
			  	onclick="if (document.getElementById('id-search-term').value == '') return false; document.getElementById('id-search-form').submit(); return false;;return true;">
				<i class="material-icons icons search" role="presentation">search</i>
			  </button>
			  <input class="search-input" id="id-search-term" name="q" type="text" value="" spellcheck="false" autocomplete="off" 
			  	onkeydown="if (!this.value &amp;&amp; (event.keyCode == 40 || event.keyCode == 32 || event.keyCode == 34)) {this.onkeydown = null; this.blur();}"  
			  	tabindex="1" placeholder="Search from Zindagi ki Kitaab" title="Search"/>						    	
			</form>
			<div class="">
				<a id="id-sOn" class="search-box-btn" href="#" 
					onclick="this.classList.toggle('hidden');document.getElementById('id-search-box').classList.toggle('search-box');document.getElementById('id-search-form').classList.toggle('hidden'); document.getElementById('id-sOff').classList.toggle('hidden');return false;">
					<i class="material-icons icons" role="presentation">search</i>
				</a>
		      	<a id="id-sOff" class="search-box-btn hidden" href="#" 
		      		onclick="this.classList.toggle('hidden');document.getElementById('id-search-form').classList.toggle('hidden');document.getElementById('id-search-box').classList.toggle('search-box');document.getElementById('id-sOn').classList.toggle('hidden');return false;">
		      		<i class="material-icons icons search" role="presentation">close</i>
		      	</a>
	      	</div>	      						
		  </div>
		  {% endblock %}{% comment %} end of search block {% endcomment %}	         
	      <nav class="mdl-navigation page-header--nav">
	      {% block header-nav-links %}{% comment %}  Modify the links as per the current Section (App) {% endcomment %}
	      	<!--<a class="mdl-navigation__link" href="{% url 'repository:view' %}">View</a>--> 
	      	{% if request.user.is_authenticated %}
	      	<span class="mdl-navigation__link pR-0">{{ request.user|title }}</span>     
	        <a id="id-profile-menu" class="mdl-navigation__link oN" href="#" 
	        	title="{{ request.user|title }} : {{ request.user.email }}">
	        	<i class="material-icons icons user" role="presentation">person</i>
	        </a>	        
	        {% else %}
	        <a id="id-profile-menu" class="mdl-navigation__link oN" href="#" title="">
	        	<i class="material-icons icons user" role="presentation">person</i>
	        </a>	        
	        {% endif %}        
	       {% endblock %}{% comment %} end of header-nav-links block {% endcomment %}
	      </nav>
		  {% comment %} User profile submenu {% endcomment %}
		  <div>
		  	<ul class="profile-menu mdl-menu mdl-menu--bottom-right mdl-js-menu" for="id-profile-menu">
		  	{% if request.user.is_authenticated %}
	  			<a class="mdl-menu__item oN" href="{% url 'dashboard:user-profile' user_id=request.user.id %}">View Profile</a>	  			
	  			{% comment %}<li disabled class="mdl-menu__item">Disabled Action</li>{% endcomment %}
	  			<li class="separator"></li>
	  			<li class="mdl-menu__item">
	  				<form method="post" action="{% url 'account_logout' %}">
	  					{% csrf_token %}
	  					<input type="hidden" name="next" value={% block header-logout-redirect %}"/"{% endblock %}/>
	  					<button class="oN"type="submit">Log Out</button>
	  				</form>	  				
	  			</li>
	  		{% else %}
				<a class="mdl-menu__item oN" href="{% url 'account_login' %}?next={% block header-login-redirect %}{% url 'dashboard:user-home' %}{% endblock %}">Login</a>	  		
	  		{% endif %}
			</ul>    
		  </div> 	      
	    </div>
	  </header>
	  {% endblock %}{% comment %} end of header block {% endcomment %}	     
	  
	  <div class="mdl-layout__drawer mdl-color--white mdl-color-text--grey-700">
	    <span class="mdl-layout-title lH-46">Title</span>	        
	    <nav class="mdl-navigation dashboard-navigation mdl-color-text--grey-800">	    
	    	<a class="mdl-navigation__link section {% block is-repo-active %}{% endblock %}" href="{% url 'repository:home' %}">Repository</a>
	    	{% if request.user|has_group:'administrator' %}    		
	    	<a class="mdl-navigation__link section {% block is-crawlers-active %}{% endblock %}" href="{% url 'crawlers:dashboard' %}">Crawled data</a> 
	    	<a class="mdl-navigation__link section {% block is-feed-active %}{% endblock %}" href="{% url 'feedback:list' %}">Feedbacks</a>    		  		   	
	    	<a class="mdl-navigation__link section {% block is-users-active %}{% endblock %}" href="/admin">Admin</a>
	    	{% endif %}
	    </nav>
    
	  </div>	  
		<main class="mdl-layout__content">
		{% block messages %}
		{% include "common/include/message-panel.html" with messages=messages only %}
		{% endblock %}
		{% block headbanner %}{% endblock %}
		{% block breadcrumbs %}{% endblock %}		
		{% block main %}{% comment %} Put the main content in this block {% endcomment %}{% endblock %}		   	
		{% block footer %}{% comment %} write down footer code in this block {% endcomment %}
		{% comment %}  
		<footer class="mdl-mini-footer">
		  <div class="mdl-mini-footer__left-section">
		    <div class="mdl-logo">Title</div>
		    <ul class="mdl-mini-footer__link-list">
		      <li><a href="#">Help</a></li>
		      <li><a href="#">Privacy & Terms</a></li>
		    </ul>
		  </div>
		</footer>{% endcomment %}
		{% endblock %}{% comment %} end of footer {% endcomment %}
		</main>
	</div>
	{% endblock %}{% comment %} end of body {% endcomment %}
	
 	{% block modal %}{% comment %} Modal code {% endcomment %}{% endblock %}	
	{% block scripts %}{% comment %} extra scripts {% endcomment %}{% endblock %}
		
	</body>
</html>
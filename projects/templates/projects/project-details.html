{% extends "projects/project-base.html" %}
{% load staticfiles %}

{% block meta %}
	<meta name="description" content="">
	<meta name="author" content="" >

{% endblock %}

{% block extra-style %}
	<link rel="stylesheet" href="{% static "css/pbar.css" %}">
{% endblock %}

{% block title %}
	Project - {{project.book.name}}
{% endblock %}

{% block main %}

		{% if messages %}
		<section id="FlashMsg" class="pT-8 pB-8">
			<div class="mdl-poetry__post mdl-grid">			
				<div class="mdl-cell mdl-cell--12-col">
					<div class="flash-msg mdl-color-text--grey-600">
		    			{% for message in messages %}
	    				<div{% if message.tags %} class="{{ message.tags }}"{% endif %}>
	    					<i class="material-icons">info</i>
	    					{{ message }}
	    				</div>
		    			{% endfor %}
		    		</div>
				</div>			
			</div>	
		</section>	
		{% endif %}
		
				
    	<section id="ProjectDetails" class="pT-8 pB-48">
			<div class="mdl-poetry__post mdl-grid">		
		
				<div class="mdl-card wide-card mdl-cell mdl-cell--8-col">
					<div class="mdl-card__title mdl-card--expand mdl-color--teal-300 mdl-color-text--white">
						<div class="title">
							<h2 class="mdl-card__title-text">															
								{{ project.book.name }}
							</h2>
							<h3 class="mdl-card__subtitle-text mdl-color-text--white">
								Project #{{ project.id}}
							</h3>
						</div>	
					</div>		
					<div class="mdl-card__supporting-text mdl-color-text--grey-600">	
						<span class="mdl-card__subtitle-text">States</span>
						<div class="progressBar">														
						{% for state, name in project.get_all_states %}
							{% if state < project.state %}
						  <div id="tt{{state}}" class="circle done">
						  	{% elif state == project.state %}
						  <div id="tt{{state}}" class="circle active">
						  	{% else %}
						  <div id="tt{{state}}" class="circle">
						  	{% endif %}
						    <span class="label">{{state}}</span>
						    <div class="mdl-tooltip mdl-tooltip--large" for="tt{{state}}">
								{{name}}
							</div>	 
						  </div>	  
						{% endfor %}  
						</div>
					</div>
					<div class="mdl-card__supporting-text mdl-color-text--grey-600">
						<span class="mdl-card__subtitle-text">Details</span>
						<div class="table--large pB-48 pT-8">
						<table class="mdl-data-table mdl-js-data-table wSn">
							<tbody>
								<tr>
									<td class="mdl-data-table__cell--non-numeric">ID</td>
									<td class="mdl-data-table__cell--non-numeric">{{ project.id }}</td>
								</tr>
								<tr>
								    <td class="mdl-data-table__cell--non-numeric">Book</td>
								    <td class="mdl-data-table__cell--non-numeric"> 
								    	<a title="Go to the page of {{ project.book}}" href="{{ project.book.get_absolute_url }}">
										{{ project.book }}</a>
								    	by 
							    		<i>
							    		{% for author in project.book.authors.all %}
							 				<a title="View the profile of {{author.name}}" href="{{ author.get_absolute_url }}">
											{{ author.name }}</a>
											{% if not forloop.last %}
											<span>, </span>
											{% endif %}
										{% endfor %}
										</i>
								    </td>
								</tr>					  
								<tr>
								    <td class="mdl-data-table__cell--non-numeric">Source</td>
								    <td class="mdl-data-table__cell--non-numeric">{{ project.get_source_name }}</td>
								</tr>
								<tr>
								    <td class="mdl-data-table__cell--non-numeric">Source URL</td>
								    <td class="mdl-data-table__cell--non-numeric">{{ project.source_url }}</td>
								</tr>
								<tr>
								    <td class="mdl-data-table__cell--non-numeric">Total Pages</td>
								    <td class="mdl-data-table__cell--non-numeric">{{ project.pages }}</td>
								</tr>
								<tr>
								    <td class="mdl-data-table__cell--non-numeric">Scanned Pages</td>
								    <td class="mdl-data-table__cell--non-numeric">{{ project.scanned_pages }}</td>
								</tr>					  
								<tr>
								    <td class="mdl-data-table__cell--non-numeric">Start</td>
								    <td class="mdl-data-table__cell--non-numeric">{{ project.start_date }}</td>
								</tr>		
								<tr>
								    <td class="mdl-data-table__cell--non-numeric">End</td>
								    <td class="mdl-data-table__cell--non-numeric">{{ project.end_date }}</td>
								</tr>	
								<tr>
								    <td class="mdl-data-table__cell--non-numeric">Manager</td>
								    <td class="mdl-data-table__cell--non-numeric"><a title="Go to the profile page of user" href=#>{{ project.manager }}</a></td>
								</tr>	
								<tr>
								    <td class="mdl-data-table__cell--non-numeric">Contributors</td>
								    <td class="mdl-data-table__cell--non-numeric">{% for contributor in project.contributors.all %}{{ contributor }}, {% endfor %}</td>
								</tr>
								<tr>
								    <td class="mdl-data-table__cell--non-numeric">Current Sate</td>
								    <td class="mdl-data-table__cell--non-numeric">{{ project.get_state_name }}</td>
								</tr>					  	
								<tr>
								    <td class="mdl-data-table__cell--non-numeric">Note</td>
								    <td class="mdl-data-table__cell--non-numeric">{{ project.note }}</td>
								</tr>
							</tbody>
						</table>
						</div>

					</div>
					<div class="mdl-card__actions mdl-card--border">
						<div class="meta-edit mdl-color-text--grey-600">
		    				<div>
		    					<span>Last edited by</span>
		    					<span> 
				    				<a title="Go to the profile page of user" href=#>{{project.manager}}</a>
		    					</span>
		    				</div>
		    				<div>
		    					<span>{{ project.date_modified }}</span>
		    				</div>
		    			</div>
		    			<div class="mdl-layout-spacer"></div>
						<a href="#" class="mdl-button mdl-button mdl-button--colored">Read our features</a>								    			
					</div>
					<div class="mdl-card__menu">
						<button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" id="btn1">
			              <i class="material-icons mdl-color-text--white">more_vert</i>
						</button>
			            <ul class="mdl-menu mdl-js-menu mdl-menu--bottom-right" for="btn1">
			              <li class="mdl-menu__item">
			              	<a href="?view=data">Project Data</a>
			              </li>
			              <li class="mdl-menu__item">
			              	<a href="{{ project.book.get_absolute_url }}">View Book</a>
			              </li>			              
			              <li class="mdl-menu__item" disabled>Ipsum</li>
			              <li class="mdl-menu__item">
			              	<a href="?edit=True">Edit</a>
			              </li>
			            </ul>
					</div>
				</div> <!-- /mdl-card -->
				
				<div class="mdl-card mdl-cell mdl-cell--4-col mdl-cell--8-col-tablet mdl-grid">				
					<div class="section-title mdl-cell mdl-cell--12-col">
						<h3>x y z</h3>	
					</div>
					
				</div> <!-- /mdl-card -->							
				
			</div>		
    	</section> <!-- /ProjectDetails -->  
		
				
{% endblock %}
{% extends "repository/base.html" %}
{% comment %}
	Info:       List of items
	Requires:   1) css and js of static/mdl/*
				2) bookmark.js(list/poetry.html)
{% endcomment %}
{% load creativework_tags %}
{% load humanize %}
{% block title %}{{ result_title }} | {{ sitename }}{% endblock title %}
{% block meta %}
{% include "meta.html" with meta=meta only %}
{% endblock %}

{% comment %}  
{% block search %}
{% include "common/include/search-bar.html" with q_url="" q_str=query_string placeholder="Search a Poetry" %}
{% endblock %}{% endcomment %}

{% block main %}
{% if creator %} {% comment %} Display the poetry of creator {% endcomment %}
<section class="pT-16 pB-8">
    <div class="_layout layout-L mdl-grid">
    {% load humanize %}
        <div class="mdl-cell mdl-cell--12-col">
            <div class="card-xl row fill">
                <div class="">
                    <div class="search-title">
                        <div class="title">Poetry</div>
                    </div>
                    <div class="search-stats mL-8">
                    {% if creator %}
                        <span>{{ items.paginator.count|intcomma }} result{{ items.paginator.count|pluralize }}</span>
                    {% endif %}
                    </div>
                </div>
                <div class="">
                    {% include "repository/include/cards/person-sm3.html" with person=creator %}
                </div>
            </div>
        </div>
    </div>
</section>
<section class="pT-8 pB-8">
    <div class="_layout layout-L mdl-grid">
        <div class="__c mdl-cell mdl-cell--12-col pA-0">
    {% if items %} {% comment %} Display the list {% endcomment %}
        {% include "repository/include/list/poetry.html" with items=items %}
        {% include "repository/include/misc/pagination-bottom.html" with items=items %}
    {% else %} {% comment %} Display the notification {% endcomment %}
        {% comment %}  {% include "common/include/empty-result.html" %}{% endcomment %}
    {% endif %}
        </div>
    </div>
</section>
	
{% else %} {% comment %} Display explore poetry page {% endcomment %}

<section class="pT-16 pB-8">
	<div class="_layout layout-sLs mdl-grid">
		<div class="__l mdl-cell mdl-cell--3-col mdl-cell--top pA-0">
		</div>
		<div class="__c mdl-cell mdl-cell--6-col mdl-cell--8-col-tablet pA-0">
			<div class="section-cards">
				<div class="section-title">
					<h3 class="c-grey1">Discover Poetry</h3>
				</div>
				{% get_poetry_pub_rand 10 as random_poetry %}
				{% include "repository/include/list/poetry.html" with items=random_poetry %}
			</div>
		</div>
		<div class="__r mdl-cell mdl-cell--3-col mdl-cell--top pA-0">
		</div>
	</div>
</section>
<section class="pT-8 pB-16">
	<div class="_layout layout-sLs mdl-grid">
		<div class="__l mdl-cell mdl-cell--3-col mdl-cell--top pA-0">
		</div>
		<div class="__c mdl-cell mdl-cell--6-col mdl-cell--8-col-tablet pA-0">
			<div class="section-cards">
				<div class="section-title">
					<h3 class="c-grey1">Recent Updates</h3>
				</div>
				{% get_recent_poetries 10 as recent_poetry %}
				{% include "repository/include/list/poetry.html" with items=recent_poetry %}
			</div>
		</div>
		<div class="__r mdl-cell mdl-cell--3-col mdl-cell--top pA-0">
		</div>
	</div>
</section>
<section class="pT-8 pB-16">
    <div class="_layout layout-L mdl-grid">
    {% include "repository/include/misc/stats.html" %}
    </div>
</section>
{% endif %}
{% endblock %}